(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51804],{561460:function(e,n,t){"use strict";t.d(n,{Z:function(){return R}});var l={};t.r(l),t.d(l,{monthlyFrequency:function(){return S},oneSelectionAnnouncement:function(){return I},petRxFrequencyInfo:function(){return L},petRxFrequencyLabel:function(){return V},recommended:function(){return O},selectedLabel:function(){return j},tentpoleGetItEvery:function(){return C},weeklyFrequency:function(){return A},wordOf:function(){return F}});var i=t(247687),a=t(78271),r=t(412193),d=t(541051),o=t(948668),c=t(77925),s=t(130824),u=t(974942),m=t(969538),x=t(324523),p=t.n(x),y=t(887377),f=t.n(y);const w=e=>{const{showLabel:n,label:t,selected:l,key:r,id:d,children:o,isFirstTile:c,isLastTile:s,isItemPageOptimization:u,...m}=e;return(0,i.jsxs)("div",{className:p()(f().container,c&&(u?f().itemPageOptimizationFirstTile:f().firstTile),s&&(u?f().itemPageOptimizationLastTile:f().lastTile)),id:d,children:[n&&(0,i.jsx)("div",{className:f().label,children:(0,i.jsx)("span",{className:p()(f().text,l&&f().selected),"aria-hidden":!0,children:t})}),(0,i.jsx)(a.Chip,{selected:l,UNSAFE_style:{width:"90px",height:"72px"},UNSAFE_className:"flex-column pa2 justify-center",...m,children:(0,i.jsx)("div",{className:l?"b":"gray",children:o})})]},r)};var v=m.memo(w),b=t(395537),g=t(229176),h=t.n(g),N=t(626051),E=t(491288);const S=e=>N.Ho(e.value,0,E.en,{"1":N.Rx("en-US",e.value,0)+" month",other:N.Rx("en-US",e.value,0)+" months"}),I=()=>"Choose frequency, only one option can be selected",L=()=>"The refill frequency will be updated by your vet after prescription verification.",V=()=>"Frequency to be determined",j=e=>N.Ys(e.isSelected,{true:"selected",other:"unselected"}),C=()=>"Get it every",A=e=>N.Ho(e.value,0,E.en,{"1":N.Rx("en-US",e.value,0)+" week",other:N.Rx("en-US",e.value,0)+" weeks"}),F=()=>"of",O=()=>"Recommended",U=e=>{let{isHorizontalLayout:n,wrapper:t,children:l}=e;return n?(0,i.jsx)(i.Fragment,{children:t(l)}):(0,i.jsx)("div",{children:l})},M=e=>{const{children:n,frequencyLayoutClassName:t,isScrollArrowHidden:a,horizontalScrollerClassName:d="",isItemPageOptimization:o,isHorizontalLayout:c,...s}=e;return(0,i.jsx)("div",{className:t,role:"group","aria-label":(0,r.m)(l,"tentpoleGetItEvery"),...s,children:(0,i.jsx)(U,{isHorizontalLayout:c,wrapper:e=>(0,i.jsx)("div",{className:p()(o&&h().itemPageOptimizationLayout,c&&h().horizontalLayout),children:(0,i.jsx)(b.Z,{className:d,classNameTile:"pt2",isScrollArrowHidden:a,shouldSnap:!1,chevronSize:"small",moduleName:"subscription-frequency",children:e})}),children:n})})};var P=m.memo(M);var k=()=>(0,i.jsxs)("div",{className:"flex br3 pa3 w-100 dark-gray",style:{backgroundColor:"#F2F8FD"},children:[(0,i.jsx)("div",{className:"mr3",children:(0,i.jsx)(u.J,{className:"",name:"Subscription",size:"medium"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"f5 b",children:(0,r.m)(l,"petRxFrequencyLabel")}),(0,i.jsx)("div",{className:"f6 mt2",children:(0,r.m)(l,"petRxFrequencyInfo")})]})]});const q=(e,n,t)=>e.map(e=>{var l,i;return e.isSelected=!1,((null===e||void 0===e||null===(l=e.frequency)||void 0===l?void 0:l.unitOfMeasure)===n&&(null===e||void 0===e||null===(i=e.frequency)||void 0===i?void 0:i.value)===t||(null===e||void 0===e?void 0:e.value)===t&&(null===e||void 0===e?void 0:e.unitOfMeasure)===n)&&(e.isSelected=!0),e}),_=e=>{const{frequencyList:n,isPetRxItem:t,setSelectedFrequency:x,selectedFrequencyValue:p,selectedFrequencyUnitOfMeasure:y,usItemId:f,overlayName:w=c.R_.SETUP_SUBSCRIPTION,addressId:b,showHorizontalCarousel:g=!1,isScrollArrowHidden:h,frequencyLayoutClassName:N,horizontalScrollerClassName:E,isItemPageOptimization:S,id:I,moduleZone:L,moduleName:V,moduleType:j,flowType:C,setVariantSelection:A,showGetItEvery:F=!0,sourcePage:O}=e,{isMobile:U}=(0,d.vP)(),M=(0,o.wG)(),{0:_,1:R}=(0,m.useState)([]),{0:z,1:T}=(0,m.useState)(""),B=g||U;(0,m.useEffect)(()=>{if(null===n||void 0===n?void 0:n.length){const e=n.findIndex(e=>e.isSelected);if(T("frequency-".concat(e,"-").concat(I)),R(n),p&&y){const e=q(n,y,p),t=e.findIndex(e=>e.isSelected);T("frequency-".concat(t,"-").concat(I)),R(e)}}},[y,p]),(0,m.useEffect)(()=>{const e=null===n||void 0===n?void 0:n.find(e=>e.isSelected);var t,l;e&&(null===x||void 0===x||x({value:(null===(t=e.frequency)||void 0===t?void 0:t.value)||e.value,unitOfMeasure:(null===(l=e.frequency)||void 0===l?void 0:l.unitOfMeasure)||e.unitOfMeasure}));p&&y&&(null===x||void 0===x||x({value:p,unitOfMeasure:y}))},[y,p]),(0,m.useEffect)(()=>{if(z){const e=document.getElementById(z);e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[z]);const G=(0,m.useCallback)((e,t)=>{if(n){const l=q(n,t,e);R(l),null===A||void 0===A||A(!0),null===x||void 0===x||x({value:e,unitOfMeasure:t})}M((0,s.g3)(e,t,w,f,b,L,V,j,C,O))},[n,M,w,f,b,L,V,j,C,A,x,O]),H=(0,m.useCallback)((e,n,t)=>{G(e,n);const l=document.getElementById("frequency-".concat(t,"-").concat(I));null===l||void 0===l||l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[G,I]);return(0,i.jsxs)("div",{className:"mt3",children:[!t&&!!_.length&&(0,i.jsxs)("div",{children:[(0,i.jsx)(a.VisuallyHidden,{children:(0,r.m)(l,"oneSelectionAnnouncement")}),F&&(0,i.jsx)("div",{className:"dark-gray ".concat(U?"f6":"f5"," mt2 ").concat(g?"b f6":""),children:(0,r.m)(l,"tentpoleGetItEvery")}),(0,i.jsx)(P,{isScrollArrowHidden:h,frequencyLayoutClassName:N,horizontalScrollerClassName:E,isItemPageOptimization:S,isHorizontalLayout:B,children:_.map((e,n)=>{const{isSelected:t,isMostCommon:d,frequency:o}=e,c=(null===o||void 0===o?void 0:o.value)||(null===e||void 0===e?void 0:e.value)||1,s=(null===o||void 0===o?void 0:o.unitOfMeasure)||(null===e||void 0===e?void 0:e.unitOfMeasure)||"WEEKS",m="WEEKS"===s?"weeklyFrequency":"monthlyFrequency",x=0===n,p=n===_.length-1,y="".concat((0,r.m)(l,m,{value:c})," ").concat(d?"(".concat((0,r.m)(l,"recommended"),")"):""," ").concat((0,r.m)(l,"selectedLabel",{isSelected:Boolean(t)}),", ").concat(n+1," ").concat((0,r.m)(l,"wordOf")," ").concat(_.length);return(0,i.jsx)("span",{"data-testid":"".concat(c,"-").concat(m),children:B?(0,i.jsxs)(v,{showLabel:!!d,label:(0,r.m)(l,"recommended"),selected:t,id:"frequency-".concat(n,"-").concat(I),onClick:()=>H(c,s,n),isFirstTile:x,isLastTile:p,"aria-label":y,"aria-pressed":void 0,isItemPageOptimization:S,children:[(0,i.jsx)(u.J,{id:"subscription-icon-".concat(n),className:"mb1",name:"Subscription",size:"medium","aria-hidden":!0}),(0,i.jsx)("div",{children:(0,r.m)(l,m,{value:c})})]}):(0,i.jsx)("div",{style:{marginTop:"12px"},children:(0,i.jsx)(a.Chip,{size:"large",UNSAFE_className:"w-100",UNSAFE_style:{height:"48px"},selected:t,onClick:()=>G(c,s),"aria-label":y,"aria-pressed":void 0,children:(0,i.jsxs)("div",{className:t?"b":"gray",children:[(0,i.jsx)(u.J,{id:"subscription-icon-".concat(n),className:"mr2",name:"Subscription",size:"medium","aria-hidden":!0}),(0,r.m)(l,m,{value:c}),d?" (".concat((0,r.m)(l,"recommended"),")"):""]})})})},"frequency-".concat(n))})})]}),t&&(0,i.jsx)(k,{})]})};var R=m.memo(_)},887377:function(e){e.exports={container:"w_8v1b",firstTile:"w_HbwF",itemPageOptimizationFirstTile:"w_dPP_",lastTile:"w_gi1h",itemPageOptimizationLastTile:"w_vaAg",label:"w_yenD",text:"w_lHqt",selected:"w_31f5"}},229176:function(e){e.exports={horizontalLayout:"w_Ki5r",itemPageOptimizationLayout:"w_sl0G"}}}]);