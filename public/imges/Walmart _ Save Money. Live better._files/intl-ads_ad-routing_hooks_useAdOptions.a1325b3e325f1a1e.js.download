"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4798],{857814:function(e,n,a){a.d(n,{$:function(){return s},K:function(){return c}});var o=a(424629),t=a(975397),l=a(370771),r=a(273060),i=a(289747),d=a(990949);const s=e=>{var n;const a=e.slice(0,e.length-1),o=null===(n=e[e.length-1])||void 0===n?void 0:n.split("_");if(Array.isArray(o)){const e=o.map(e=>e||"").join("/");if(o.length>=a.length)return e;const n=a.length-o.length;let t="";for(let a=1;a<=n;a++)t+="L".concat(a,"/");return t+=e,t}return null},c=e=>{const n=(0,d.A)()||{},a=(0,o.D)(),{itemId:c,categoryPath:u,itemName:p,brand:m,categoryPathName:y}={itemId:(0,l.yWi)()||"",categoryPath:(0,l.lKQ)()||"",itemName:(0,l.ZQf)()||"",brand:(0,l.DYJ)()||"",categoryPathName:((0,l.OUR)()||[]).map(e=>(null===e||void 0===e?void 0:e.name)||"").join("/")},{ads:{values:g}}=(0,r.iC)(t.e),A=null===g||void 0===g?void 0:g.enableCategoryTargeting,{query:v}=(0,i.tv)().router||{};let D={};var T,E,_,f,x,h;if("SEARCH"===e)A&&(D={searchNormalize:{top_query_cat_path:(null===a||void 0===a||null===(T=a.pageMetadata)||void 0===T||null===(E=T.pageContext)||void 0===E||null===(_=E.searchNormalize)||void 0===_?void 0:_.top_query_cat_path)||"",top_query_cat_path_name:(null===a||void 0===a||null===(f=a.pageMetadata)||void 0===f||null===(x=f.pageContext)||void 0===x||null===(h=x.searchNormalize)||void 0===h?void 0:h.top_query_cat_path_name)||""}});else if("BROWSE"===e){if(D={browseContext:{cat_id:"",cat_path_name:""}},null===n||void 0===n?void 0:n.breadCrumb){const e=n.breadCrumb;Array.isArray(e)&&(D.browseContext.cat_id=e.map((e,n)=>{let a=(null===e||void 0===e?void 0:e.id)||"";return a.includes("_")&&(a=a.split("_")[n]),a}).join("/"),D.browseContext.cat_path_name=e.map(e=>(null===e||void 0===e?void 0:e.name)||"").join("/"))}}else if("ITEM"===e)D={itemContext:{itemId:c,categoryPath:u,categoryPathName:y,brand:m,name:p}};else{if("CATEGORY"!==e)return null;var C,L,I,w;if(D={browseContext:{cat_id:"",cat_path_name:""}},(null===a||void 0===a||null===(C=a.pageMetadata)||void 0===C||null===(L=C.pageContext)||void 0===L?void 0:L.shelfName)&&(null===a||void 0===a||null===(I=a.pageMetadata)||void 0===I||null===(w=I.pageContext)||void 0===w?void 0:w.shelfIds)){var P,b,S,O;const e=null===a||void 0===a||null===(P=a.pageMetadata)||void 0===P||null===(b=P.pageContext)||void 0===b?void 0:b.shelfName;D.browseContext.cat_path_name=e.replace(/:/g,"/");const n=null===a||void 0===a||null===(S=a.pageMetadata)||void 0===S||null===(O=S.pageContext)||void 0===O?void 0:O.shelfIds;D.browseContext.cat_id=n.replace(/:/g,"/")}else if(v.categoryParams){var V;if(Array.isArray(v.categoryParams)&&v.categoryParams.length>=2)D.browseContext.cat_id=s(v.categoryParams),D.browseContext.cat_path_name=null===(V=v.categoryParams[v.categoryParams.length-2])||void 0===V?void 0:V.split("_").map(e=>e||"").join("/")}}return D}},279237:function(e,n,a){a.d(n,{ZP:function(){return K}});var o={};a.r(o),a.d(o,{textLevelBelowAd:function(){return j}});var t=a(247687),l=a(424629),r=a(45317),i=a(974006),d=a(903999),s=a(42071),c=a(626317),u=a(804418),p=a(595783),m=a(355820),y=a(78271),g=a(273060),A=a(412193),v=a(541051),D=a(990949),T=a(969538),E=a(811799);const _={},f=(e,n)=>new Promise(a=>{n.onload=()=>a(n),n.onerror=()=>a(n),n.src=e}),x=async function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;if(e&&(!n||!_[e])){const n=new Image,o=e.replace("[STARTTIME]",Date.now().toString()).replace("[ENDTIME]",Date.now().toString()).replace("[EVENTTIME]",Date.now().toString());_[e]=!0;(await f(o,n))&&a&&a()}};var h=a(798159),C=a(190294);var L=e=>{let{logType:n="info",eventType:a,msg:o,pageType:t,moduleType:l,moduleLocation:r}=e;return(0,C.cM)([n,"intl-ads",a||""],{type:"log",msg:o,pageType:t,moduleType:l,moduleLocation:r})};const I=e=>{let{withBeaconObject:n,pageType:a,moduleType:o,moduleLocation:t}=e;const{AD_REQUESTED:l,AD_LOADED:r,AD_LOADED_EMPTY:i,AD_VIEWED:d,AD_CLICKED:s,AD_FAILED:c,AD_TIMEOUT:u,AD_ANALYTICS_EXCEPTION:p,AD_BLOCKED:m}=h.mA,y=(e,n)=>!!e&&(function(e,n,a){if(Array.isArray(e)&&e.length>0)e.forEach(e=>x(e,n,a));else{if(!e||"string"!==typeof e)throw new Error("Beacon not triggered: invalid URL");x(e,n,a)}}(e,!0,n),!0),g={onAdRequested:()=>{L({logType:"info",eventType:l,msg:"",pageType:a,moduleType:o,moduleLocation:t})},onAdLoaded:e=>{let{loadBeaconUrl:l,adResUuid:i,msg:d}=e;return L({logType:"info",eventType:r,msg:d,pageType:a,moduleType:o,moduleLocation:t}),E.Y2.sendBeacon(n(r),"".concat(i,"-AD_LOADED")),y(l)},onEmptyAdLoaded:e=>{let{msg:n}=e;L({logType:"info",eventType:i,msg:n,pageType:a,moduleType:o,moduleLocation:t})},onAdViewed:e=>{let{viewBeaconUrl:l="",adResUuid:r,msg:i}=e;return L({logType:"info",eventType:d,msg:i,pageType:a,moduleType:o,moduleLocation:t}),E.Y2.sendBeacon(n(d),"".concat(r,"-AD_VIEWED")),y(l)},onAdClicked:e=>{let{clickBeaconUrl:l,adResUuid:r,cb:i,msg:d}=e;return L({logType:"info",eventType:s,msg:d,pageType:a,moduleType:o,moduleLocation:t}),E.Y2.sendBeacon(n(s),"".concat(r,"-AD_CLICKED")),y(l,i)},onAdFailed:e=>{let{msg:n}=e;L({logType:"error",eventType:c,msg:n,pageType:a,moduleType:o,moduleLocation:t})},onAdTimeOut:e=>{let{msg:n}=e;L({logType:"error",eventType:u,msg:n,pageType:a,moduleType:o,moduleLocation:t})},onAdAnalyticsException:e=>{let{msg:n}=e;L({logType:"error",eventType:p,msg:n,pageType:a,moduleType:o,moduleLocation:t})},onAdBlocked:e=>{let{msg:n}=e;L({logType:"error",eventType:m,msg:n,pageType:a,moduleType:o,moduleLocation:t})}};return g};var w=a(648949),P=a(663235),b=a(370771),S=a(285216),O=a(289747),V=a(23869);const B=e=>{switch(e){case"AD_LOADED":return"adImpression";case"AD_VIEWED":return"adViewable";case"AD_CLICKED":return"adClick"}return null},N=e=>{switch(e){case"SkylineDisplayAd":return"skyline";case"MarqueeDisplayAd":return"marquee";case"POV2DisplayAd":case"POV3DisplayAd":case"POV4DisplayAd":return"pov";case"GalleryDisplayAd":return"gallery";case"TileTakeOverDisplayAd":return"Single_Tiletakeover";case"BrandBoxDisplayAd":return"Brand_Box";case"GridPOVBanners":return"GridPOV";case"InspoAd":return"InspoAd";default:return""}},M=e=>["POV2DisplayAd","POV3DisplayAd","POV4DisplayAd"].includes(e)?"POVDisplayAd":e,R=(e,n)=>{const a=(0,V.v)();let o="";a&&(o=a.skylineRenderHeightIntl||"");let t="auto";if(o&&"SkylineDisplayAd"===n)try{const n=JSON.parse(o),{mWeb:a="auto",web:l="auto"}=n;t=e?a:l}catch(l){console.error("Json parsing error for skyline ad height")}return"SkylineDisplayAd"===n?{height:t,overflow:"hidden"}:null},k=(e,n,a)=>{var o,t;const{adDimensions:l}=(0,w.r)(M(n)),r=(0,P.C)(M(n),a),{queryVariables:i={itemId:""}}=(0,S.N)(),d=(0,b.lKQ)(),s=(0,D.A)(),{query:c}=(0,O.tv)().router,{queryVariables:u,catInfo:p}=s||{queryVariables:{query:"",catId:""},catInfo:{name:""}},m=(y=c.categoryParams)?Array.isArray(y)?y.length>=1?y[y.length-1]:"":y:"";var y;const g="GridPOVBanners"===n?null===r||void 0===r?void 0:r.adDimensions:l,A={pageId:"",taxonomy:"",adDimension:(null===g||void 0===g?void 0:g.length)?"".concat(null===(o=g[0])||void 0===o?void 0:o.w,"x").concat(null===(t=g[0])||void 0===t?void 0:t.h):""};switch(e){case"ITEM":return{...A,pageId:i.itemId||"",taxonomy:null===d||void 0===d?void 0:d.split(":").join("-")};case"SEARCH":return{...A,pageId:u.query||""};case"BROWSE":return{...A,pageId:p.name||"",taxonomy:u.catId};case"CATEGORY":return{...A,taxonomy:m};default:return{...A}}};var W=a(227293);function U(e){const n=(0,T.useRef)(null),{0:a,1:o}=(0,T.useState)(!1);var l;return(0,W.P)(n,n=>{!a&&n.isIntersecting&&(o(!0),e.onInView&&e.onInView())},{rootMargin:"0px 0px ".concat(e.offset,"px 0px"),threshold:[0,1]}),(0,t.jsx)("span",{ref:n,"data-testid":"lazy-render","data-rendered":a,children:a?e.children:null!==(l=e.placeholder)&&void 0!==l?l:null})}U.displayName="LazyRender";const j=()=>"Sponsored",q={margin:"4px 0 0 0",fontSize:"12px",height:"16px",lineHeight:"7px",color:"#74767C",textAlign:"right"},G=e=>{const{0:n,1:a}=(0,T.useState)(null),{isMobile:d}=(0,v.vP)(),E=(0,l.D)(),_=(0,D.A)()||{},{ads:{values:f}}=(0,g.iC)(s.e3),{pageType:x,module:{type:C,configs:{_rawConfigs:{bannerSize:w,moduleLocation:P,lazy:b}},matchedTrigger:{zone:S}},moduleDataByZone:O,showAdBelowtext:V,children:M,data:W,adOptions:j,enableSearchBrowseMaxWidth:G}=e,K=(e=>"GridPOVBanners"===e||"InspoAd"===e)(C),F=(0,r.E)(),{inGridPosition:Y,pageNumber:z}=((e,n,a)=>{let o="",t="";var l,r,i,d,s;return"TileTakeOverDisplayAd"===a&&(o=((null===e||void 0===e||null===(l=e.tileTakeOverZone)||void 0===l||null===(r=l.configs)||void 0===r||null===(i=r.ad)||void 0===i||null===(d=i.adRequestComposite)||void 0===d?void 0:d.povCardIdx)||"").toString(),t=((null===n||void 0===n||null===(s=n.queryVariables)||void 0===s?void 0:s.page)||"").toString()),{inGridPosition:o,pageNumber:t}})(O,_,C),Q=(0,T.useMemo)(()=>((e,n,a)=>"".concat(e.toLowerCase(),"-").concat(a,"-").concat(n))(x,P,C),[x,P,C]),Z=(0,T.useMemo)(()=>(0,c.yS)(d,x,O,E),[d,O,x,E]),H=(0,T.useCallback)(e=>{null!==e&&a(e)},[]),{zone:J}=(0,i.c)(),X=(e=>{let{pageType:n,moduleLocation:a,moduleType:o,tempoZone:t,pageId:l,taxonomy:r,adDimension:i,inGridPosition:d,pageNumber:s}=e;return(0,T.useCallback)(e=>["AD_LOADED","AD_VIEWED","AD_CLICKED"].includes(e)?{action:"ads",context:"intlDisplayWlmt",name:B(e),payload:{ad:{pageType:n.toLowerCase(),bannerPosition:a,inGridPosition:d,pageNumber:s,adType:N(o),adDimension:i,placement:t,pageId:l,taxonomy:r}}}:null,[n,a,o,t,l,r,i,d,s])})({pageType:x,moduleType:C,moduleLocation:P,tempoZone:S||J,inGridPosition:Y,pageNumber:z,...k(x,C,w)}),$=I({withBeaconObject:X,pageType:x,moduleType:C,moduleLocation:P});(0,T.useEffect)(()=>{L({logType:"warn",eventType:"AD_TEMPO_MODULE_ACTIVE",msg:"Ad Tempo Module is active",pageType:x,moduleType:C,moduleLocation:P}),F&&L({logType:"error",eventType:h.mA.AD_BLOCKED,msg:"Ad blocker is active",pageType:x,moduleType:C,moduleLocation:P})},[F]);const ee=(0,T.useMemo)(()=>(C.endsWith("DisplayAd")||K)&&W?(0,u.Su)(W):null,[K,W,C]);(0,p.A4)(ee,$,n,C);const ne=(0,s.d)(C,P,x);if(null!==f&&!1===f[ne])return L({logType:"error",eventType:"AD_CV_DISABLED",msg:"Ad ccm flag is disabled",pageType:x,moduleType:C,moduleLocation:P}),null;return(0,t.jsxs)("div",{id:"".concat(Q,"-intl-ad-wrapper"),className:"pa0 w-100",ref:H,style:{...R(d,C),maxWidth:"1280px",margin:"0 auto"},children:[W&&!b&&"function"===typeof M?M({containerRef:n,commonAdsParams:Z,elementId:Q,adSlotEvents:$}):"BROWSE"===x&&_.isFetching?null:b&&(0,t.jsx)(y.Container,{id:Q,UNSAFE_className:"pa0",children:(0,t.jsx)(U,{offset:b,children:(0,t.jsx)(m.default,{pageType:x,module:e.module,commonAdsParams:Z,elementId:Q,adSlotEvents:$,pageContext:j,enableSearchBrowseMaxWidth:G,containerRef:n})})}),V?(0,t.jsx)("div",{"data-testid":"".concat(Q,"-textBelowAd"),style:q,children:"".concat((0,A.m)(o,"textLevelBelowAd"))}):null]})};var K=(0,d.P)(T.memo(G),"IntlAdWrapper")},798159:function(e,n,a){a.d(n,{m$:function(){return o},mA:function(){return l},u5:function(){return t}});const o={NATIVE_AD:"NATIVE_AD"},t={INTL_AD_V2:"INTL_AD_V2"},l={AD_REQUESTED:"AD_REQUESTED",AD_LOADED:"AD_LOADED",AD_LOADED_EMPTY:"AD_LOADED_EMPTY",AD_VIEWED:"AD_VIEWED",AD_CLICKED:"AD_CLICKED",AD_FAILED:"AD_FAILED",AD_TIMEOUT:"AD_TIMEOUT",AD_ANALYTICS_EXCEPTION:"AD_ANALYTICS_EXCEPTION",AD_BLOCKED:"AD_BLOCKED"}},663235:function(e,n,a){a.d(n,{C:function(){return r}});var o=a(273060),t=a(689877),l=a(42071);const r=(e,n)=>{const{ads:{values:a}}=(0,o.iC)(l.e3);let r="DESKTOP";t.Em?r="TABLET_WEB":t.tq&&(r="MOBILE_WEB");let i=(null===a||void 0===a?void 0:a.adpativeAdDimensionsIntl)||"";i=i.substring(1,i.length-1);let d,s=[];try{d=JSON.parse(i||"")}catch(c){}return"object"===typeof d&&"object"===typeof d[e]&&"object"===typeof d[e][n]&&Array.isArray(d[e][n][r])&&(s=d[e][n][r]),{adDimensions:s,deviceType:r}}}}]);